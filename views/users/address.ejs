
<%-include('../users/layouts/header.ejs') %>
<%-include('../users/layouts/navBar.ejs') %>

<link rel="stylesheet" href="/static/userAssets/css/profile.css">

     <form action="/addAddress" method="post" onsubmit="return validAddress()">
        <div class="container">
            <div class="row">
                <div class="col-lg-9 m-t-90" style="margin-left:200px; background-color:rgb(68, 68, 70);
                border-radius: 12px">
                    <h2 class="checkout-title mb-3">Billing Details</h2>
                    <div class="form-group">
                        <label for="company-name">Full Name</label>
                        <input type="text" class="form-control" id="fullName" name="fullName"style="
                        border-radius: 20px;
                        width: 429px;
                    ">
                        <p id="name-error" style="color: red;"></p>
                    </div>
    
                    <div class="form-group">
                        <label for="phone">Mobile Number</label>
                        <input type="tel" class="form-control" id="phone" name="mobile"style="
                        border-radius: 20px;
                        width: 429px;
                    ">
                        <p id="mobile-error" style="color: red;"></p>
                    </div>
    
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="state-county">State</label>
                                <select class="form-control" id="state" name="state"style="
                                border-radius: 20px;
                            ">
                                    <option value="">Select State</option>
                                </select>
                                <p id="state-error" style="color: red;"></p>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="country">District</label>
                                <input type="text" class="form-control" id="district" name="district"style="
                                border-radius: 20px;
                            ">
                                <p id="district-error" style="color: red;"></p>
                            </div>
                        </div>
                    </div>
    
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="town-city">City</label>
                                <input type="text" class="form-control" id="city" name="city"style="
                                border-radius: 20px;
                            ">
                                <p id="city-error" style="color: red;"></p>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="postcode">Pincode</label>
                                <input type="text" class="form-control" id="pinCode" name="pincode"style="
                                border-radius: 20px;
                            ">
                                <p id="pincode-error" style="color: red;"></p>
                            </div>
                        </div>
                        <div class="col-12 text-center mb-3">
                            <button type="submit" class="btn btn-outline-primary-2"style="
                            border-radius: 20px;
                        ">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    

    <!-- // for validation script linking -->
    <script>
        function validAddress() {
    const name = document.getElementById('fullName').value;
    const mobile = document.getElementById('phone').value;
    const state = document.getElementById('state').value;
    const district = document.getElementById('district').value;
    const city = document.getElementById('city').value;
    const pincode = document.getElementById('pinCode').value;

    document.getElementById('name-error').textContent = '';
    document.getElementById('state-error').textContent = '';
    document.getElementById('mobile-error').textContent = '';
    document.getElementById('district-error').textContent = '';
    document.getElementById('city-error').textContent = '';
    document.getElementById('pincode-error').textContent = '';

    if (!name) {
        document.getElementById('name-error').textContent = 'Name field should not be empty!';
        return false;
    }
    const mobileRegex = /^[6-9]\d{9}$/;

if (!mobile || !mobileRegex.test(mobile)) {
    document.getElementById('mobile-error').textContent = 'Mobile number should be a 10-digit valid number';
    return false;
}

if (new Set(mobile).size === 1) {
    document.getElementById('mobile-error').textContent = 'Mobile number should not consist of the same digit.';
    return false;
}

    if (!state) {
        document.getElementById('state-error').textContent = 'State field should not be empty!';
        return false;
    }


    if (!district) {
        document.getElementById('district-error').textContent = 'District field should not be empty!';
        return false;
    }

    if (!city) {
        document.getElementById('city-error').textContent = 'City field should not be empty!';
        return false;
    }

    const pincodeRegex = /^\d{6}$/;

    if (!pincode || !pincode.match(pincodeRegex)) {
        document.getElementById('pincode-error').textContent = 'Pincode should be a 6-digit numeric value.';
        return false;
    }

    return true;
}
// =========== for state drop down ========
const indianStates = [
    "Andhra Pradesh", "Arunachal Pradesh", "Assam", "Bihar", "Chhattisgarh", "Goa", "Gujarat", "Haryana", "Himachal Pradesh",
    "Jharkhand", "Karnataka", "Kerala", "Madhya Pradesh", "Maharashtra", "Manipur", "Meghalaya", "Mizoram", "Nagaland",
    "Odisha", "Punjab", "Rajasthan", "Sikkim", "Tamil Nadu", "Telangana", "Tripura", "Uttar Pradesh", "Uttarakhand", "West Bengal"
];

const stateDropdown = document.getElementById('state');

indianStates.forEach(state => {
    const option = document.createElement('option');
    option.value = state;
    option.text = state;
    stateDropdown.appendChild(option);
});

    </script>

<%-include('../users/layouts/footer.ejs') %>    